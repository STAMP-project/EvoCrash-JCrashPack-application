# ES-24476

```
java.util.regex.PatternSyntaxException: Unclosed character class near index 5 ([\w+)
    at java.util.regex.Pattern.error(Pattern.java:1955)
    at java.util.regex.Pattern.clazz(Pattern.java:2548)
    at java.util.regex.Pattern.sequence(Pattern.java:2063)
    at java.util.regex.Pattern.expr(Pattern.java:1996)
    at java.util.regex.Pattern.group0(Pattern.java:2905)
    at java.util.regex.Pattern.sequence(Pattern.java:2051)
    at java.util.regex.Pattern.expr(Pattern.java:1996)
    at java.util.regex.Pattern.compile(Pattern.java:1696)
    at java.util.regex.Pattern.<init>(Pattern.java:1351)
    at java.util.regex.Pattern.compile(Pattern.java:1054)
    at org.elasticsearch.common.regex.Regex.compile(Regex.java:159)
    at org.elasticsearch.index.analysis.PatternReplaceCharFilterFactory.<init>(PatternReplaceCharFilterFactory.java:43)
    at org.elasticsearch.indices.analysis.AnalysisModule$1.get(AnalysisModule.java:351)
    at org.elasticsearch.index.analysis.AnalysisRegistry.buildMapping(AnalysisRegistry.java:342)
    at org.elasticsearch.index.analysis.AnalysisRegistry.buildCharFilterFactories(AnalysisRegistry.java:181)
    at org.elasticsearch.index.analysis.AnalysisRegistry.build(AnalysisRegistry.java:153)
    at org.elasticsearch.index.IndexService.<init>(IndexService.java:145)
    at org.elasticsearch.index.IndexModule.newIndexService(IndexModule.java:363)
    at org.elasticsearch.indices.IndicesService.createIndexService(IndicesService.java:427)
    at org.elasticsearch.indices.IndicesService.verifyIndexMetadata(IndicesService.java:460)
    at org.elasticsearch.cluster.metadata.MetaDataUpdateSettingsService$2.execute(MetaDataUpdateSettingsService.java:289)
    at org.elasticsearch.cluster.ClusterStateUpdateTask.execute(ClusterStateUpdateTask.java:45)
    at org.elasticsearch.cluster.service.ClusterService.executeTasks(ClusterService.java:679)
    at org.elasticsearch.cluster.service.ClusterService.calculateTaskOutputs(ClusterService.java:658)
    at org.elasticsearch.cluster.service.ClusterService.runTasks(ClusterService.java:617)
    at org.elasticsearch.cluster.service.ClusterService$UpdateTask.run(ClusterService.java:1117)
    at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:569)
    at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:238)
    at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:201)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at java.lang.Thread.run(Thread.java:745)
```
The right version is 5.3.0
