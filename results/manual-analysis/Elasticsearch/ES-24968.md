# ES-24968

## Stacktrace

```
java.lang.NullPointerException: null
	at org.elasticsearch.action.index.IndexRequest.source(IndexRequest.java:464)
	at org.elasticsearch.rest.action.document.RestIndexAction.prepareRequest(RestIndexAction.java:75)
	at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:64)
	at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:260)
	at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:199)
	at org.elasticsearch.http.netty4.Netty4HttpServerTransport.dispatchRequest(Netty4HttpServerTransport.java:504)
	at org.elasticsearch.http.netty4.Netty4HttpRequestHandler.channelRead0(Netty4HttpRequestHandler.java:72)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at org.elasticsearch.http.netty4.pipelining.HttpPipeliningHandler.channelRead(HttpPipeliningHandler.java:63)
```
## Frame 1
There is a static variable definition in the CUT:
```
private static DeprecationLogger deprecationLogger = new DeprecationLogger(Loggers.getLogger(IndexRequest.class));
```
In this class (`DeprecationLogger`), we have static initializer.
## Frame 2
EvoSuite security manager stop the process because detecting the `shutdownHooks`.
## Frame 3
The only generated stack trace during the search is `java.lang.ExceptionInInitializerError` which indicates that an unexpected exception has occurred in a static initializer.
According to the only stack trace, `BaseRestHandler` calls its super (`AbstractComponent`) init, and this one calls `DeprecationLogger` which has static initializer.
## Frame 4
The target method is **package-private**.
## Frame 5
EvoCrash could not achieve to the line coverage. In the best case, It got stuck in the initialization of the CUT. In the constructor of CUT, EvoCrash should generate a complex input called `settings`. however, it cannot do it properly.
## Frame 6-7
We did not agree to only test the core of ES. It is not even mentioned in the paper!
netty4 is one of the modules of ES, and it should be tested.
`#Missing_dep`
## Frame 8-11
These frames point to packages from IO Netty. Irrelevant to the experiment.
## Frame 12
Same as frames 6 and 7.
`#Missing_dep`
